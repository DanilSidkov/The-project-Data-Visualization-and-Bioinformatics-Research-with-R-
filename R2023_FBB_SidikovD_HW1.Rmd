---
title: "ФББ - R - Домашнее задание №1"
author: "Данил Сидиков"
date: "05.09.2023"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
***
# Задание №1

В данном задании мне требуется узнать версию **R** и **RStudio** установленных на моем ноутбуке и самые актуальные версии на сентябрь 2023 года. Также следует объяснить, как я к этому пришел.

> Читая книгу **The book of R (Tilman M.Davies)** я узнал, что, используя шорткат **??"что-нибудь"**, можно найти название функции и её описание в документации среди установленных пакетов по ключевому слову, если вы не знаете её точное название. 
Смекнув, что наверняка функция, которая будет выводить версию программных пакетов и утилит, будет содержать в своем названии слово "version", я провел поиск:

```{r}
??"version"
```

> По результатам поиска я нашел это - **base::R.Version	- Version Information**

```{r}
R.version.string # эта команда выведет версию R без лишних подробностей
```

> Последней версией языка R на 05.09.2023 - является версия R 4.3.1.
[Страница с актуальными версиями языка R](https://cran.r-project.org/src/base/R-4/)

> Версия RStudio, которая установлена на моем ноутбуке - Version 1.3.1093. Её можно узнать следующим способом: 
> На верхней панели выбираем вкладку **Help**, затем выбираем пункт **About RStudio**. Появится окно с текущей версией RStudio.
> Последней версией RStudio на 05.09.2023 - является версия: 2023.06.2+561.[Сайт с последней версией RStudio](https://posit.co/download/rstudio-desktop/) 


***

# ВЕКТОРА - создание
***
## Задание №2
>Создайте вектор х из чисел 11, 34 и 12.

>Какова длина вектора х?

```{r}
x <- c(11,34,12) # создадим вектор из чисел 11,34,12
x
```
```{r}
lenx <- length(x) # определим длину вектора
lenx
```
## Задание №3
>Наиболее оптимальным способом создайте вектор y из целых чисел от -1000 до 1000 включительно.

>Какова длина вектора y?
```{r}
y <- (-1000:1000) # создадим вектор у из целых чисел от -1000 до 1000
tail(y) # отобразим последние 5 чисел вектора у
head(y) # отобразим первые 5 чисел вектора у
```
```{r}
leny <- length(y)  # определим длину вектора у
leny
```

## Задание №4
>Создайте вектор b, состоящий из векторов x (задание №2) и y (задание №3).

```{r}
b <- c(x,y) # создадим вектор b из значений вектора х и у
tail(b) # отобразим последние 5 чисел вектора у
head(b, n = 8) # отобразим первые 8 чисел вектора у
```
## Задание №5
>Создайте вектор x, состоящий из четных чисел в интервале от 2 до 20

```{r}
x <- seq(from = 2, to = 20, by = 2 ) # вектор x, состоящий из четных чисел в интервале от 2 до 20 
x
```

## Задание №6
>Создайте наиболее оптимальным способом вектор v:

>22, 23, 24, 25, 26, 22, 23, 24, 25, 26, 22, 23, 24, 25, 26, 22, 23, 24, 25, 26
```{r}
v <- rep(22:26, times=4) # создадим вектор v
v
```

## Задание №7
>Возьмите из распределения Пуассона (λ=3) 10 чисел случайным образом.

>Выведите полученный вектор целиком в явном виде.

```{r}
set.seed(123) # зададим начальное значение для генератора случайных чисел.
vpois <- rpois(10, 3) # возьмем 10 случайных чисел из распределения Пуассона (λ=3)
vpois
```

## Задание №8
> Создайте логичесикй вектор а длины 5. Сами придумайте последовательность TRUE и(!) FALSE.

> Убедитесь, что получившийся вектор а действительно логического типа.

>Посчитайте сумму вектора а (воспользуйтесь функцией sum()).

>Кратко поясните, как отработала функция sum() на логическом векторе.

```{r}
a <- c(TRUE,FALSE,FALSE,TRUE,FALSE) # Cоздадим логический вектор а длины 5
a # Посмотрим содержимое вектора а
length(a) # Убедимся, что вектор а имеет длину 5
typeof(a) # Определим тип вектора
```
#### Вектор **а** логического типа. Теперь попробуем применить функцию **sum()** к ней
```{r}
sum(a) # Применим функцию sum() к логическому вектору а
```
#### Исходя из полученного результата **2**, можно предположить, что функция **sum()** определяет количество True в векторе.



## Задание №9
>Преобразуйте вектор а из задания №8 в численный.


```{r}
a <- as.numeric(a) # Преобразуем вектор а из задания №8 в численный
typeof(a) # узнаем новый тип
a # посмотрим на содержимое вектора
```

## Задание №10
>С помощью какой операции можно получить ответ: “TRUE” “FALSE” “TRUE”?

* as.character(as.numeric(as.logical(-1:1)))
* as.character(as.logical(-1:1))
* -1:1
* as.logical(-1:1)
* as.numeric(as.logical(-1:1))
* as.numeric(as.character(as.logical(-1:1)))

>

* Мой ответ №2 - **as.character(as.logical(-1:1))**
```{r}
as.character(as.logical(-1:1)) # проверим работу кода
```
##### Можно заметить, что ответ в формате **"character"**, как и целевой ответ
***
# ВЕКТОРА - срезы и манипуляции
***
## Задание №11
>Создайте вектор n вида “a”, “b”, “c” и т.д. Воспользуйтесь набором letters.

>Вызовите справку ?letters и обратите внимание на раздел Usage, это может пригодиться когда-нибудь.

>Длина вектора n должна быть аналогична длине вектора х из задания №5.

>При создании вектора n нельзя указывать длину в виде числа в явном виде.

>Какого типа данные содержит вектор n?

```{r}
n <- c(letters[1:length(x)]) # создадим вектор n вида “a”, “b”, “c” и т.д.,используя набор letters. PS: я надеюсь, что я не указываю длину в виде числа в явном виде, все-таки список))
n # выведем вектор n
?letters #вызовем справку и изучим её содержание.
typeof(n) # узнаем какой тип данных содержит вектор n
```
##### Вектор n содержит данные типа **"character"**

## Задание №12
>Задайте элементам вектора х из задания №5 имена в виде вектора из задания №11.

>Положите результат в переменную l

```{r}
names(x) <- n # зададим имена элементам вектора х вектором n
l <- x # положим окончательный результат вектора х в переменную l
l
```

## Задание №13
>Возьмите вектор х из задания №5.

>Возьмите только последний элемент вектора х, не указывая индекс последнего элемента в явном виде.

```{r}
x # возьмем вектор х
x['j'] # Возьмем только последний элемент вектора х, не указывая индекс последнего элемента в явном виде
```

## Задание №14
>Возьмите вектор х из задания №5.

>Сколько элементов вектора х имеют значения строго больше 10?


```{r}
x # возьмем вектор х
xsort <- x[x > 10] # Отберем элементы вектора х, которые имеют значения строго больше 10
length(xsort) # Узнаем сколько элементов вектора х имеют значения строго больше 10
```

## Задание №15
>Возьмите вектор х из задания №5.

>Замените первый элемент вектора х на любое число.

```{r}
x # возьмем вектор х
x[1] = 999 # Заменим первый элемент вектора х на любое число.
x
```

## Задание №16
>Возьмите вектор х из задания №5.

>Отберите элементы с нечетными индексами.

```{r}
x # возьмем вектор х
x[seq(from=1, to=length(x), by=2)] # Отберем элементы с нечетными индексами.

```

## Задание №17
>Возьмите вектор v из задания №6.

>Выведите индексы элементов вектора v, значения которых равны 23.

```{r}
v # возьмем вектор v
which(v == 23) # Выведем индексы элементов вектора v, значения которых равны 23.
```
## Задание №18
>Возьмите вектор l из задания №12.

>Выведите элемент вектора с:

* именем “b”

* индексом 3

* значением 18

```{r}
l # возьмем вектор l
l["b"] # Выведем элемент вектора с именем “b”
l[3] # Выведем элемент вектора с индексом 3
l[l == 18] #  Выведем элемент вектора c значением 18
```

## Задание №19
>Создайте вектор l из чисел 24 и 26.

>Возьмите вектор v из задания №6.

>Отберите из вектора v только такие значения, которые есть в векторе l.

>Для решения воспользуйтесь оператором %in%.


```{r}
l <- c(24,26) # создадим вектор l из чисел 24 и 26
v # возьмем вектор v
v[v %in% l] # Отберем из вектора v только такие значения, которые есть в векторе l.
```

## Задание №20
>Воспользуйтесь вектором l из задания №19.

>Есть ли хоть одно положительное значение в векторе l? Воспользуйтесь функцией any().

>Все ли значения вектора l положительные? Воспользуйтесь функцией all().

```{r}
l # возьмем вектор l
any(l>0) # Есть ли хоть одно положительное значение в векторе l?
all(l>0) # Все ли значения вектора l положительные?
```

# Таблицы

## Задание №21
>Создайте таблицу, заполненную любыми данными на ваше усмотрение, состоящую из двух столбцов и трех строк.

>Воспользуйтесь функцией data.frame().

```{r}
df <- data.frame(name=c("Dan","Max","Ben"),age=c(19,20,17))
df
```
## Задание №22
>Используйте встроенный набор данных CO2.

>Сколько строк и сколько столбцов в таблице? Выведите в явном виде

```{r}
head(CO2) # Используем встроенный набор данных CO2
Dim <- dim(CO2) # Определим размеры таблицы
Dim[1] # Количество строк
Dim[2] # Количество столбцов
```
## Задание №23
>Опишите разнообразие значений столбца Type в наборе данных CO2 (какие значения представлены и в каком количестве).

>Используйте функцию table().

```{r}
Type <- CO2["Type"] # Выделим столбец Type в наборе данных CO2
head(Type)
table(Type) # опишим разнообразие значений столбца Type(какие значения представлены и в каком количестве)
```
## Задание №24
>Отберите из набора данных CO2 такие строки, где значение столбца conc строго больше среднему значению столбца conc. Сколько получилось строк?

```{r}
conc <- CO2$conc # Занесем столбец conc в наборе данных CO2 в переменную conc
head(conc)
mean_conc <- mean(conc) # Среднее значение столбца conc
mean_conc
conc_sort <- conc[conc > mean_conc]
head(conc_sort) # первые значения отфильтрованного столбца
length(conc_sort) # получилось столько строк
```
## Задание №25
>Количество столбцов в таблице можно узнать с помощью функции ncol(), аналогично для строк - функция nrow().

>Выберите из набора данных CO2 только 1ый и последний столбцы, не указывая в явном виде индекс последнего столбца. Используйте функцию ncol(). Сколько столбцов получилось?

```{r}
CO2_SE <- CO2[c(1,ncol(CO2))] # Выберем из набора данных CO2 только 1-ый и последний столбцы, не указывая в явном виде индекс последнего столбца.
head(CO2_SE)
ncol(CO2_SE) # получилось столько столбцов
```
## Задание №26
>Отберите из набора данных CО2 такие значения, где столбец Plant принимает значения Qn1, Qn2 и Qn3 Используйте оператор %in%

>Сколько получилось строк?

```{r}
CO2_sort = CO2[CO2$Plant %in% c('Qn1','Qn2','Qn3'),] # Отберем из набора данных CО2 такие значения, где столбец Plant принимает значения Qn1, Qn2 и Qn3, используя оператор %in%
head(CO2_sort)
nrow(CO2_sort) # Столько получилось строк
```
## Задание №27
>Воспользуйтесь встроенным набром данных mtcars.

>Выведите имя третьей колонки.

```{r}
head(mtcars) # Воспользуемся встроенным набором данных mtcars
mtcol <- colnames(mtcars) # Занесем в список названия столбцов
mtcol[3] # выведем имя третьей колонки
```
## Задание №28
>Воспользуйтесь встроенным набром данных mtcars.

>Выведите только первый, второй и третий столбцы, а также восьмую и пятую строки.

```{r}
head(mtcars) # Воспользуемся встроенным набором данных mtcars
mtcars[c(8,5),1:3] # Выведем только первый, второй и третий столбцы, а также восьмую и пятую строки.

```
## Задание №29
>Воспользуйтесь встроенным набром данных mtcars.

>Выведите строчку таблицы, где содержится информация о машине Camaro Z28.

>Воспользуйтесь функцией rownames().

```{r}
head(mtcars) # Воспользуемся встроенным набором данных mtcars
mtcars[rownames(mtcars) == 'Camaro Z28',] # Выведем строчку таблицы, где содержится информация о машине Camaro Z28.
```
## Задание №30
>Выведите все переменные вашего окружения

>Удалите все переменные

```{r}
ls() # Выведем все переменные моего окружения
rm(list = ls()) # Удалим все переменные
ls() # Проверим все переменные
```